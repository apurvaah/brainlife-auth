<div class="container">
    <div id="page-wrapper">
        <h1 class="page-header">SIGNUP</h1>
        <form ng-submit="submit();">
            <p class="help-block" ng-if="jwt">This is your first time you've accessed this application. Please complete your registration.</p>
            <div class="form-group">
                <label>Username *</label>
                <input type="text" class="form-control" ng-model="form.username" name="username" placeholder="Pick a username" required ng-disabled="username_readonly"/>
            </div>
            <div class="form-group">
                <label>Email *</label>
                <input type="email" class="form-control" ng-model="form.email" name="email" placeholder="Enter your email address" required ng-disabled="email_readonly"/>
            </div>
            <div class="form-group">
                <label>Full Name *</label>
                <input type="text" class="form-control" ng-model="form.fullname" name="fullname" placeholder="Enter your full name" required/>
            </div>
            <div class="panel panel-default">
                <div class="panel-body">
                    <p class="help-block" ng-if="jwt">Please pick a new password to login in case you are not able to login with 3rd party identity provider</p>
                    <div class="form-group">
                        <label>Password *</label>
                        <input type="password" class="form-control" ng-model="form.password" placeholder="Choose your password" required/>
                        <password-strength password="form.password" user="form"></password-strength>
                    </div>
                    <div class="form-group">
                        <label>Password (Confirm) *</label>
                        <input type="password" class="form-control" 
                            ng-model="form.password_confirm" 
                            placeholder="Enter the same password" 
                            match="form.password_confirm != form.password ? 'Passwords don\'t match' : ''"/>
                    </div>
                </div>
            </div>
            <!--<img class="logo" ng-src="{{appconf.logo_400_url}}"/>-->
            <div ng-if="appconf.profile" class="row">
                <div class="col-md-6" style="border-right: 1px solid #ddd;">
                    <h5>Public Profile</h5>
                    <p class="help-block">This information will be shared publically among all brainlife.io users.</p>
                    <div ng-repeat="field in appconf.profile.public" class="form-group">
                        <label>{{field.name}} <span ng-if="field.required">*</span></label>
                        <textarea class="form-control" placeholder="{{field.desc}}" ng-model="form.profile.public[field.id]" name="{{field.id}}" rows="{{field.rows}}" required="{{field.required}}"/>
                    </div>
                </div>

                <div class="col-md-6">
                    <h5>Private Profile</h5>
                    <p class="help-block">This information will be shared with your project members and brainlife administrators. </p>
                    <div ng-repeat="field in appconf.profile.private" class="form-group">
                        <label>{{field.name}} <span ng-if="field.required">*</span></label>
                        <textarea class="form-control" placeholder="{{field.desc}}" ng-model="form.profile.private[field.id]" name="{{field.id}}" rows="{{field.rows}}" required="{{field.required}}"/>
                    </div>
                    <p class="help-block">Brainlife.io is a NSF funded project and supported by Indiana University. We'd like to collect private user profile information for annual reporting purposes (anonymously) and to help us better support our users and to meet their expectations.</p>
                </div>
            </div>

            <center style="background-color: #f8f8f8; padding-top: 20px; margin: 20px 0;">
                <iframe src="{{aup}}" style="border: none; width: 900px; height: 1050px;"></iframe>
                <iframe src="{{privacy}}" style="border: none; width: 900px; height: 5410px;"></iframe>
            </center>
            <p>
                <input type="checkbox" ng-model="form.profile.private.aup" required/> I have read and consent to brainlife.io <a href="{{appconf.aup}}" target="_blank">Acceptable Use Policy</a> and <a href="{{appconf.privacy}}">Privacy Policy</a>
            </p>
            <br>

            <input type="button" class="btn" value="Cancel" ng-click="cancel()"/>
            <input type="submit" class="btn btn-primary" value="Submit"/>
        </form>
    </div>
    <ng-include src="'t/footer.html'"></ng-include> <!--should this be part of view?-->
</div>

